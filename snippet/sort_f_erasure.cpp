double sort_f (std::size_t N, const double *input,
        double *output,
        const std::function<double (double)> &f)
{ /* same as before */ }
